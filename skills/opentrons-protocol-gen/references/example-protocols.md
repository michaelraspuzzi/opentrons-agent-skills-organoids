# Example Protocols

Complete, tested protocols for common experimental workflows.

---

## Example 1: 8-Point Dose-Response with Viability Readout

**Experiment**: Test drug at 8 concentrations, N=4 per concentration, CellTiter-Glo readout

**Plate Layout**:
```
    1   2   3   4   5   6   7   8   9   10  11  12
A  [D1][D1][D1][D1][D2][D2][D2][D2][D3][D3][D3][D3]
B  [D1][D1][D1][D1][D2][D2][D2][D2][D3][D3][D3][D3]
C  [D4][D4][D4][D4][D5][D5][D5][D5][D6][D6][D6][D6]
D  [D4][D4][D4][D4][D5][D5][D5][D5][D6][D6][D6][D6]
E  [D7][D7][D7][D7][D8][D8][D8][D8][Veh][Veh][Veh][Veh]
F  [D7][D7][D7][D7][D8][D8][D8][D8][Veh][Veh][Veh][Veh]
G  [Pos][Pos][Pos][Pos][ - ][ - ][ - ][ - ][ - ][ - ][ - ][ - ]
H  [Pos][Pos][Pos][Pos][ - ][ - ][ - ][ - ][ - ][ - ][ - ][ - ]

D1-D8: Drug concentrations (100, 30, 10, 3, 1, 0.3, 0.1, 0.03 µM)
Veh: Vehicle control
Pos: Positive control (100% kill, e.g., 10% DMSO)
```

**See skill.md for complete protocol code**

---

## Example 2: Simple Drug Addition (96-channel)

**Experiment**: Add single drug concentration to all wells

```python
from opentrons import protocol_api

metadata = {
    'protocolName': 'Simple Drug Addition',
    'author': 'Generated by Claude',
    'description': 'Add drug to entire 96-well plate',
}

requirements = {
    'robotType': 'Flex',
    'apiLevel': '2.16'
}

def run(protocol: protocol_api.ProtocolContext):
    
    # Labware
    tips = protocol.load_labware('opentrons_flex_96_tiprack_200ul', 'A1')
    reservoir = protocol.load_labware('nest_1_reservoir_195ml', 'B1')
    plate = protocol.load_labware('corning_96_wellplate_360ul_flat', 'D1')
    
    # Pipette
    p96 = protocol.load_instrument('flex_96channel_1000', 'left', tip_racks=[tips])
    
    # Add 100 µL drug solution to all wells
    protocol.comment('Adding drug solution to all wells')
    p96.pick_up_tip()
    p96.aspirate(100, reservoir['A1'])
    p96.dispense(100, plate['A1'])
    p96.blow_out()
    p96.drop_tip()
    
    protocol.comment('Complete')
```

---

## Example 3: 3x Plate Wash

**Experiment**: Wash plate 3 times with PBS

```python
from opentrons import protocol_api

metadata = {
    'protocolName': '3x Plate Wash',
    'author': 'Generated by Claude',
    'description': 'Wash 96-well plate three times with PBS',
}

requirements = {
    'robotType': 'Flex',
    'apiLevel': '2.16'
}

def run(protocol: protocol_api.ProtocolContext):
    
    # Labware
    tips_1 = protocol.load_labware('opentrons_flex_96_tiprack_1000ul', 'A1')
    tips_2 = protocol.load_labware('opentrons_flex_96_tiprack_1000ul', 'A2')
    tips_3 = protocol.load_labware('opentrons_flex_96_tiprack_1000ul', 'A3')
    
    pbs_reservoir = protocol.load_labware('nest_1_reservoir_195ml', 'B1')
    waste_reservoir = protocol.load_labware('nest_1_reservoir_195ml', 'B2')
    plate = protocol.load_labware('corning_96_wellplate_360ul_flat', 'D1')
    
    # Pipette
    p96 = protocol.load_instrument('flex_96channel_1000', 'left', 
                                    tip_racks=[tips_1, tips_2, tips_3])
    
    wash_volume = 200  # µL
    
    for wash_num in range(3):
        protocol.comment(f'Wash {wash_num + 1} of 3')
        
        # Remove liquid
        p96.pick_up_tip()
        p96.aspirate(wash_volume, plate['A1'].bottom(z=1), rate=0.5)
        p96.dispense(wash_volume, waste_reservoir['A1'])
        p96.drop_tip()
        
        # Add fresh PBS
        p96.pick_up_tip()
        p96.aspirate(wash_volume, pbs_reservoir['A1'])
        p96.dispense(wash_volume, plate['A1'])
        p96.drop_tip()
        
        # Brief incubation
        protocol.delay(seconds=30)
    
    # Final removal
    protocol.comment('Final aspiration')
    p96.pick_up_tip()
    p96.aspirate(wash_volume, plate['A1'].bottom(z=1), rate=0.5)
    p96.dispense(wash_volume, waste_reservoir['A1'])
    p96.drop_tip()
    
    protocol.comment('Wash complete')
```

---

## Reagent Prep Guide Template

Include this with every protocol:

```markdown
## Reagent Preparation Guide

### Stock Solutions
| Reagent | Stock Conc | Volume Needed | Prep Instructions |
|---------|------------|---------------|-------------------|
| Drug X | 10 mM | 200 µL | Dissolve in DMSO |
| PBS | 1x | 50 mL | Use sterile |
| CellTiter-Glo | 1x | 12 mL | Thaw at RT, protect from light |

### Reservoir Layout
| Position | Contents | Volume to Add |
|----------|----------|---------------|
| A1 | Media | 15 mL |
| A2 | Drug 100 µM | 5 mL |
| A3 | Vehicle (0.1% DMSO) | 5 mL |
| A6 | CellTiter-Glo | 12 mL |

### Pre-Protocol Checklist
- [ ] Cells plated 24h prior at 10,000/well
- [ ] Drug stock thawed and diluted
- [ ] CellTiter-Glo at room temperature
- [ ] Tip racks loaded
- [ ] Robot calibrated
```
